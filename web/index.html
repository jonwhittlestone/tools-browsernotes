<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Browser Notes</title>
    <link rel="stylesheet" href="{{ROOT_PATH}}/static/styles.css" />
    <link rel="manifest" href="{{ROOT_PATH}}/manifest.webmanifest" />
    <meta name="theme-color" content="#1e1e1e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="apple-touch-icon" href="{{ROOT_PATH}}/static/icon-192.png" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div>
          <h1>Notes</h1>
          <div class="status-bar">
            <button
              id="viewToggle"
              class="view-toggle"
              title="Toggle between text and task view"
            >
              Task View
            </button>
            <button
              id="dateTemplateBtn"
              class="template-btn"
              title="Insert date template"
            >
              New Date Entry
            </button>
            <button
              id="familyPlannerBtn"
              class="template-btn"
              title="Email me the family planner"
            >
              Email Family Planner
            </button>
            <button
              id="settingsBtn"
              class="template-btn"
              title="Settings"
            >
              Settings
            </button>
            <span id="saveStatus"></span>
            <span id="vimMode" class="vim-indicator"></span>
          </div>
        </div>
        <div class="metrics-bar">
          <span class="metric metric-tasks">Tasks: <span id="taskCount">--</span></span>
          <span class="metric metric-inbox"
            >Personal Inbox: <span id="inboxCount">--</span></span
          >
          <span class="metric metric-pocket"
            >Pocket Money: <span id="pocketMoney">--</span></span
          >
        </div>
      </div>
      <div id="textView" class="editor-container">
        <textarea
          id="notepad"
          placeholder="Start typing your notes here..."
          spellcheck="false"
        ></textarea>
        <div id="vimCursor" class="vim-cursor" style="display: none"></div>
      </div>
      <div id="taskView" class="task-view-container" style="display: none">
        <!-- Task view will be rendered here by TaskView.ts -->
      </div>
    </div>
    <script>window.__BASE_PATH__ = '{{ROOT_PATH}}';</script>
    <script src="{{ROOT_PATH}}/static/web.bundle.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('{{ROOT_PATH}}/sw.js', { scope: '{{ROOT_PATH}}/' });
      }
    </script>
  </body>
</html>
